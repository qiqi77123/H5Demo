<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>
    <script src="js/mui.min.js"></script>
    <link href="css/mui.min.css" rel="stylesheet"/>
    <script type="text/javascript" charset="utf-8">
      	mui.init();
    </script>
</head>
<body>
	<header class="mui-bar mui-bar-nav">
	    <h1 class="mui-title">上拉加载</h1>
	</header>
	<div id="div" class="mui-content">
	  <ul class="mui-table-view">
	          <li class="mui-table-view-cell">
	              <a class="mui-navigate-right">
	                  Item 1
	              </a>
	          </li>
	          <li class="mui-table-view-cell">
	              <a class="mui-navigate-right">
	                   Item 2
	              </a>
	          </li>
	          <li class="mui-table-view-cell">
	              <a class="mui-navigate-right">
	                   Item 3
	              </a>
	          </li>
	      </ul>  
	    
	</div>
	<script type="text/javascript">
		mui.init({
			pullRefresh:{
				container:"#div",
				up:{
					height:50,
					auto:false,
					contentrefresh:'正在加载...',
					contentnomore:'没有更多数据了',
					callback:pullupRefresh
				}
			}
		});
		function pullupRefresh(){
				addData();
				
			}
		function addData(){
				var ul=mui(".mui-table-view")[0];
				var cells=document.body.querySelectorAll('.mui-table-view-cell');
				for(var i=cells.length,len=i+3;i<len;i++){
					var li = document.createElement('li');
					li.className='mui-table-view-cell';
					li.innerHTML='<a class="mui-navigate-right">Item'+(i+1)+'</a>';
					ul.appendChild(li);
					mui("#div").pullRefresh().endPullupToRefresh();
					if(i>9)
						mui("#div").pullRefresh().endPullupToRefresh(true);
				}
			}
	</script>
</body>
</html>