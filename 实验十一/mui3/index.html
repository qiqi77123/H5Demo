<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>
    <script src="js/mui.min.js"></script>
    <link href="css/mui.min.css" rel="stylesheet"/>
    <script type="text/javascript" charset="utf-8">
      	mui.init({
      		gestureConfig:{
      			longtap:true
      		}
      	});
    </script>
</head>
<body>
	<div class="mui-content">
	    <img id="img" src="img/1.png" />
	    <style type="text/css">
	    #popover{
	    	height: 100px;
	    	width:200px;
	    }
	    </style>
	    <div id="popover" class="mui-popover">
	    	<div class="mui-scroll-wrapper">
	    	    <div class="mui-scroll">
	    		    <ul class="mui-table-view">
	    		    	<li id="li1" class="mui-table-view-cell"><a href="#">下载图片</a></li>
	    		    	<li id="li2" class="mui-table-view-cell"><a href="#">取消</a></li>
	    		    </ul>
	    		</div>
	    	</div>
	    </div>
	    <!--<a href="#popover" id="openPopover" class="mui-btn mui-btn-primary mui-btn-block">打开弹出菜单</a>
	    mui('.mui-scroll-wrapper').scroll()-->
	    
	</div>
	<script type="text/javascript">
		mui("#img")[0].addEventListener('longtap',function(){
			mui("#popover").popover("show");
		},false);
		mui("#li2")[0].addEventListener('tap',function(){
			mui("#popover").popover('hide');
		},false);
		mui.plusReady(function(){
			mui("#li1")[0].addEventListener('tap',function(){
				var downloader=plus.downloader.createDownload('http://122.206.155.121/mui3/img/2.png',
				{
					method:'GET'
				},
				function(d,status){
					if(status==200){
						console.log("status:"+status);
						console.log(d.filename);
						plus.gallery.save(d.filename,function(){
							console.log("save success");
						},function(e){
							console.log("save filed:"+e.message);
						});
					}
					else{
						console.log("failed:"+status);
					}
				})
				downloader.start();
			},false);
		})
		</script>
</body>
</html>